<!-- filepath: c:\dev\django_project\slumSarathi\templates\accounts\edit_profile.html -->
{% extends "base.html" %}
{% block title %}Edit Profile{% endblock %}
{% block content %}
<div class="d-flex justify-content-center align-items-center" style="min-height: 70vh;">
  <div class="w-100" style="max-width: 540px;">
    <div class="card shadow-sm p-4">
      <h2 class="mb-4 text-center">Edit Profile</h2>
      {% if messages %}
        {% for message in messages %}
          <div class="alert alert-success">{{ message }}</div>
        {% endfor %}
      {% endif %}
      <form method="post">
        {% csrf_token %}
        <div class="mb-3">
          <label class="form-label">First Name:</label>
          <input type="text" name="first_name" value="{{ user_obj.first_name }}" class="form-control">
        </div>
        <div class="mb-3">
          <label class="form-label">Last Name:</label>
          <input type="text" name="last_name" value="{{ user_obj.last_name }}" class="form-control">
        </div>
        <div class="mb-3">
          <label class="form-label">Phone Number:</label>
          <input type="text" name="phone_number" value="{{ profile.phone_number }}" class="form-control">
        </div>
        <div class="mb-3">
          <label class="form-label">Gender:</label>
          <select name="gender" class="form-select">
            <option value="">---------</option>
            <option value="M" {% if profile.gender == "M" %}selected{% endif %}>Male</option>
            <option value="F" {% if profile.gender == "F" %}selected{% endif %}>Female</option>
            <option value="O" {% if profile.gender == "O" %}selected{% endif %}>Other</option>
          </select>
        </div>
        <div class="mb-3">
          <label class="form-label">Bio:</label>
          <textarea name="bio" class="form-control">{{ profile.bio }}</textarea>
        </div>
        <div class="mb-3">
          <label class="form-label">Institution:</label>
          <input type="text" name="institution" value="{{ profile.institution }}" class="form-control">
        </div>
        <div class="mb-3">
          <label class="form-label">Course of Study:</label>
          <input type="text" name="course_of_study" value="{{ profile.course_of_study }}" class="form-control">
        </div>
        <div class="mb-3">
          <label class="form-label">Organization:</label>
          <input type="text" name="organization" value="{{ profile.organization }}" class="form-control">
        </div>
        <div class="mb-3">
          <label class="form-label">Website:</label>
          <input type="url" name="website" value="{{ profile.website }}" class="form-control">
        </div>
        <button type="submit" class="btn btn-primary w-100">Save Changes</button>
      </form>
      <a href="{% url 'profile' user_obj.id %}" class="btn btn-link mt-3 w-100">Back to Profile</a>
    </div>
  </div>
</div>
{% endblock %}